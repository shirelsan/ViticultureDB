# Phase 3: Integration & View: 

## Table of Contents  





## Introduction:  
# שלב ג - אינטגרציה ומבטים: שילוב מערכות ייצור יין וניהול כרם

## מבוא

בשלב זה אנו מתמקדים באינטגרציה של שתי מערכות משלימות בענף היין: מערכת ייצור יין ומערכת ניהול הכרמים. המטרה היא ליצור מאגר נתונים משולב המכסה את שרשרת הערך המלאה של ייצור היין - מטיפוח הגפנים בכרם ועד לייצור היין הסופי ובקבוקיו.

## מטרת האינטגרציה

האינטגרציה בין מערכת ייצור יין למערכת ניהול הכרמים נועדה:

• **לספק תמונה מלאה של שרשרת הערך**: יצירת רצף מידע מהכרם ועד לבקבוק, שיאפשר מעקב אחר מקור הענבים בכל מנת ייצור.

• **לייעל את תהליכי העבודה**: חיבור הנתונים מאפשר תכנון טוב יותר של מועדי קטיף, קליטת ענבים ותהליכי ייצור בהתאם לבשלות הענבים ולצרכי היקב.

• **לשפר את ניהול האיכות**: שילוב המידע מהכרם והיקב מאפשר הבנה טובה יותר של הקשר בין תנאי גידול, זני ענבים ואיכות היין הסופי.

• **לאפשר יכולות ניתוח מתקדמות**: אינטגרציה של הנתונים מאפשרת ניתוחים חוצי-מערכת, כגון השפעת תנאי גידול וזני ענבים על יעילות תהליכי הייצור ואיכות המוצר הסופי.

## תהליך האינטגרציה שבוצע

במסגרת השלב הנוכחי:

**ביצענו הינדוס לאחור** של מערכת ניהול הכרמים, כדי להבין את מבנה הנתונים ואת היחסים בין הישויות.

 **יצרנו תרשימי DSD ו-ERD** למערכת החיצונית, שמשקפים את מבנה הנתונים והקשרים הלוגיים בין הישויות.

 **ניתחנו נקודות ממשק פוטנציאליות** בין מערכת ניהול היקב למערכת ניהול הכרמים, תוך התמקדות בישויות משותפות כגון זני ענבים, עובדים ותהליכי עבודה.

 **תכננו מודל משולב** שמאחד את שתי המערכות תוך שמירה על שלמות הנתונים והלוגיקה העסקית של כל מערכת.

## תובנות מהאינטגרציה

תהליך האינטגרציה אפשר לנו:

• להבין כיצד שתי מערכות שפותחו בנפרד יכולות להשלים זו את זו וליצור מערכת מקיפה יותר.

• לזהות פערים או כפילויות במידע בין המערכות, ולתכנן פתרונות לטיפול בהם.

• להעמיק את ההבנה של שרשרת הערך המלאה בתעשיית היין, מהכרם ועד לבקבוק.

• לתכנן מבטים (Views) שיאפשרו להציג מידע משולב משתי המערכות, כגון מעקב אחר ענבים מזן מסוים מרגע הנטיעה ועד להפיכתם ליין בבקבוק.

המודל המשולב שיצרנו מהווה בסיס איתן למערכת מידע מקיפה שתתמוך בכל שלבי הייצור והעיבוד של היין, ותאפשר ניהול מיטבי של משאבי היקב והכרם כאחד.   

## *Backup file of wine production **

 •[📜Backup file of wine production ](Backup_22042025%20(1).backup)  
 
## **DSD (Data Structure Diagram from the PgAdmin)**  

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/DSDfromthepgadmin.png?raw=true)  

## **ERD (Entity-Relationship Diagram)** 

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/ERDfromtheDSDfromthepgadmin.png?raw=true)  

## **DSD (Data Structure Diagram Second from the ERD)**  

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/DSDfromtheERD.png?raw=true)   

## **Merged ERD of the 2 DB (Entity-Relationship Diagram)** 

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/ERDproductiomwineandgrowinggrapes.png?raw=true) 














# Views:  

 •[📜View file of wine production and growing grapes](view/Views.sql)  

## **View 1 - view_maintenance_task_info
**תיאור מילולי:**
המבט maintenance_task_info נועד להציג מידע מרוכז עבור משימות תחזוקה שהתבצעו בכרמים.

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/view/view1.jpg?raw=true) 

**הטבלה שנוצרה לאחר הרצת הview:**

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/view/Q1-V1-2.png?raw=true) 


**הסבר על המבט:**   

המבט maintenance_task_info נועד להציג מידע מרוכז עבור משימות תחזוקה שהתבצעו בכרמים.
המבט מאגד מידע ממספר טבלאות:

•	הטבלה  Maintenace - שמכילה פרטי משימות (סוג המשימה, תאריך),

•	הטבלה  Worker-שממנה נמשכת זהות העובד שביצע את המשימה,

•	הטבלה - Receive שמחברת בין משימה לבין כרם מסוים,

•	הטבלה vineyard  -שמספקת מידע נוסף על הכרם עצמו (מיקום, סוג קרקע).

באמצעות שילוב זה, ניתן לקבל תמונה מלאה על משימות שבוצעו:
מי ביצע אותן, מתי, מה היה סוג המשימה, ובאיזה מיקום וסוג קרקע היא בוצעה.

### **שאילתה 1:**

מציגה את מספר משימות התחזוקה שבוצעו בכל סוג קרקע.
המטרה היא להבין אילו סוגי קרקע דורשים הכי הרבה תחזוקה, על ידי ספירה של מספר המשימות שבוצעו בכל אחד מהם.
התוצאה ממוינת כך שסוג הקרקע עם הכי הרבה משימות יופיע ראשון.

**תמונה של הרצת השאילתה+הטבלה שנוצרה:**

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/view/Q1-V1-3.png?raw=true) 


### **שאילתה 2:**   

מזהה עבור כל כרם את העובד שביצע בו את מספר משימות התחזוקה הגבוה ביותר.
השאילתה עושה שימוש בתת-שאילתה כדי למצוא את מספר המשימות המקסימלי בכל כרם, ומשווה אליו את מספר המשימות של כל עובד באותו כרם.
כך מתקבל עובד מוביל לכל כרם – זה שעבד בו הכי הרבה.

**תמונה של הרצת השאילתה+הטבלה שנוצרה:**

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/view/Q2-V1-2.png?raw=true) 


## **View 2 - production_overview

**תיאור מילולי:**
המבט production_overview מציג מידע כולל על תהליכי ייצור היין.

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/view/V2.png?raw=true) 

**הטבלה שנוצרה לאחר הרצת הview:**

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/view/V2-1.png?raw=true) 


**הסבר על המבט:** 

המבט production_overview מציג מידע כולל על תהליכי ייצור היין.
הוא מחבר בין טבלאות של תהליך הייצור, העובדים, הענבים והמוצר הסופי, כדי לספק תצוגה מקיפה שכוללת:

 • מזהה התהליך, סוגו, תאריכי התחלה וסיום, ומספר סידורי.

 • שם ותפקיד העובד האחראי.
  
 • סוג הענבים ותאריך הבציר. 

 • סוג היין שיוצר, תאריך הביקבוק ומספר הבקבוקים שיוצרו. 

 
### **שאילתה 1:**
תיאור מילולי:
שאילתה זו מסכמת את מספר הבקבוקים שיוצרו מכל סוג יין.
המטרה: לזהות אילו סוגי יין הם הפופולריים ביותר בתהליך הייצור.

**תמונה של הרצת השאילתה+הטבלה שנוצרה:**

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/view/v2-q1.png?raw=true) 




### **שאילתה 2:**
תיאור מילולי:
שאילתה זו מזהה את העובדים שהיו אחראים למספר הרב ביותר של תהליכי ייצור.
המטרה: לזהות עובדים מובילים או כאלו שמרבים לקחת חלק בייצור,העובדים יוצגו בסדר יורד לפי מספר תהליכי הייצור שהיו שותפים בהם.

**תמונה של הרצת השאילתה+הטבלה שנוצרה:**

![ERD diagram](https://github.com/shirelsan/ViticultureDB/blob/main/Phrase3/view/V2-q2-2.png?raw=true) 


